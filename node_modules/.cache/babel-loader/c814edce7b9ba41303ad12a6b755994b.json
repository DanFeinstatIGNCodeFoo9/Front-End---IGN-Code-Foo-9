{"ast":null,"code":"import _classCallCheck from \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/src/components/feedItem/FeedItem.js\";\nimport React, { Component } from \"react\";\nimport styles from \"./FeedItem.module.css\";\nimport CommentCountIcon from \"../icons/CommentCountIcon\";\nimport placeholderImg from \"./img/IGNnews.png\";\n\nvar FeedItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FeedItem, _Component);\n\n  function FeedItem(props) {\n    var _this;\n\n    _classCallCheck(this, FeedItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FeedItem).call(this, props));\n\n    _this.updateCommentCount = function (previousProps) {\n      if (_this.props.comments && _this.props.comments !== previousProps) {\n        var newCommentCount = 0;\n\n        for (var i = 0; i < _this.props.comments.length; i++) {\n          if (_this.props.comments[i].id === _this.props.id) {\n            newCommentCount += _this.props.comments[i].count;\n          }\n        }\n\n        if (newCommentCount > 0) {\n          _this.setState({\n            commentCount: newCommentCount\n          });\n        }\n      }\n    };\n\n    _this.state = {\n      commentCount: null\n    };\n    return _this;\n  }\n\n  _createClass(FeedItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateCommentCount();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevState) {\n      // console.log(this.props.img.url);\n      // console.log(prevState);\n      if (this.props.comments && this.props.comments !== prevState.comments) {\n        var newCommentCount = 0;\n\n        for (var i = 0; i < this.props.comments.length; i++) {\n          if (this.props.comments[i].id === this.props.id) {\n            newCommentCount += this.props.comments[i].count;\n          }\n        } //   console.log(\"function running test\");\n\n\n        if (newCommentCount > 0) {\n          this.setState({\n            commentCount: newCommentCount\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: styles.img,\n        src: this.props.img !== \"placeholder\" ? this.props.img.url : placeholderImg,\n        alt: \"article thumbnail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: styles.date,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.props.date), React.createElement(\"span\", {\n        className: styles.dash,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \" - \"), React.createElement(CommentCountIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: styles.comments,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, this.state.commentCount), React.createElement(\"div\", {\n        className: styles.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.props.title ? this.props.title : this.props.description));\n    }\n  }]);\n\n  return FeedItem;\n}(Component);\n\nexport default FeedItem;","map":{"version":3,"sources":["/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/src/components/feedItem/FeedItem.js"],"names":["React","Component","styles","CommentCountIcon","placeholderImg","FeedItem","props","updateCommentCount","previousProps","comments","newCommentCount","i","length","id","count","setState","commentCount","state","prevState","container","img","url","date","dash","title","description"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styles from \"./FeedItem.module.css\";\nimport CommentCountIcon from \"../icons/CommentCountIcon\";\nimport placeholderImg from \"./img/IGNnews.png\";\n\nclass FeedItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      commentCount: null,\n    };\n  }\n\n  componentDidMount() {\n    this.updateCommentCount();\n  }\n  componentDidUpdate(prevState) {\n    // console.log(this.props.img.url);\n    // console.log(prevState);\n    if (this.props.comments && this.props.comments !== prevState.comments) {\n      let newCommentCount = 0;\n      for (let i = 0; i < this.props.comments.length; i++) {\n        if (this.props.comments[i].id === this.props.id) {\n          newCommentCount += this.props.comments[i].count;\n        }\n      }\n      //   console.log(\"function running test\");\n      if (newCommentCount > 0) {\n        this.setState({\n          commentCount: newCommentCount,\n        });\n      }\n    }\n  }\n\n  updateCommentCount = previousProps => {\n    if (this.props.comments && this.props.comments !== previousProps) {\n      let newCommentCount = 0;\n      for (let i = 0; i < this.props.comments.length; i++) {\n        if (this.props.comments[i].id === this.props.id) {\n          newCommentCount += this.props.comments[i].count;\n        }\n      }\n      if (newCommentCount > 0) {\n        this.setState({\n          commentCount: newCommentCount,\n        });\n      }\n    }\n  };\n\n  render() {\n    return (\n      <div className={styles.container}>\n        <img\n          className={styles.img}\n          src={\n            this.props.img !== `placeholder`\n              ? this.props.img.url\n              : placeholderImg\n          }\n          alt=\"article thumbnail\"\n        />\n\n        <span className={styles.date}>{this.props.date}</span>\n        <span className={styles.dash}> - </span>\n        <CommentCountIcon />\n        <span className={styles.comments}>{this.state.commentCount}</span>\n\n        <div className={styles.title}>\n          {this.props.title ? this.props.title : this.props.description}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FeedItem;\n"]},"metadata":{},"sourceType":"module"}