{"ast":null,"code":"import _classCallCheck from \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/src/components/feedItem/FeedItem.js\";\nimport React, { Component } from \"react\";\nimport styles from \"./FeedItem.module.css\";\nimport stylesTwo from \"./VidDur.module.css\";\nimport CommentCountIcon from \"../icons/CommentCountIcon\";\nimport VidDur from \"./VidDur\";\nimport placeholderImg from \"./img/IGNnews.png\";\n\nvar FeedItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FeedItem, _Component);\n\n  function FeedItem(props) {\n    var _this;\n\n    _classCallCheck(this, FeedItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FeedItem).call(this, props));\n\n    _this.updateCommentCount = function (previousProps) {\n      if (_this.props.comments && _this.props.comments !== previousProps) {\n        var newCommentCount = 0;\n\n        for (var i = 0; i < _this.props.comments.length; i++) {\n          if (_this.props.comments[i].id === _this.props.id) {\n            newCommentCount += _this.props.comments[i].count;\n          }\n        }\n\n        if (newCommentCount > 0) {\n          _this.setState({\n            commentCount: newCommentCount\n          });\n        }\n      }\n    };\n\n    _this.state = {\n      commentCount: null\n    };\n    return _this;\n  }\n\n  _createClass(FeedItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateCommentCount();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevState) {\n      // console.log(this.props.img.url);\n      // console.log(prevState);\n      if (this.props.comments && this.props.comments !== prevState.comments) {\n        var newCommentCount = 0;\n\n        for (var i = 0; i < this.props.comments.length; i++) {\n          if (this.props.comments[i].id === this.props.id) {\n            newCommentCount += this.props.comments[i].count;\n          }\n        } //   console.log(\"function running test\");\n\n\n        if (newCommentCount > 0) {\n          this.setState({\n            commentCount: newCommentCount\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"\".concat(styles.img, \" \").concat(stylesTwo.grid),\n        style: {\n          backgroundImage: \"url(\".concat(this.props.img !== \"placeholder\" ? this.props.img : placeholderImg, \")\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, this.props.filter === \"videos\" && React.createElement(VidDur, {\n        duration: this.props.duration,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: styles.date,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.props.date), React.createElement(\"span\", {\n        className: styles.dash,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \" - \"), React.createElement(CommentCountIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: styles.comments,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.state.commentCount), React.createElement(\"div\", {\n        className: styles.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.props.title ? this.props.title : this.props.description));\n    }\n  }]);\n\n  return FeedItem;\n}(Component);\n\nexport default FeedItem;","map":{"version":3,"sources":["/Users/danielfeinstat/Desktop/Homework/CodeFoo9-FrontEnd/Front-End---IGN-Code-Foo-9/client/src/components/feedItem/FeedItem.js"],"names":["React","Component","styles","stylesTwo","CommentCountIcon","VidDur","placeholderImg","FeedItem","props","updateCommentCount","previousProps","comments","newCommentCount","i","length","id","count","setState","commentCount","state","prevState","container","img","grid","backgroundImage","filter","duration","date","dash","title","description"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styles from \"./FeedItem.module.css\";\nimport stylesTwo from \"./VidDur.module.css\";\nimport CommentCountIcon from \"../icons/CommentCountIcon\";\nimport VidDur from \"./VidDur\";\nimport placeholderImg from \"./img/IGNnews.png\";\n\nclass FeedItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      commentCount: null,\n    };\n  }\n\n  componentDidMount() {\n    this.updateCommentCount();\n  }\n  componentDidUpdate(prevState) {\n    // console.log(this.props.img.url);\n    // console.log(prevState);\n    if (this.props.comments && this.props.comments !== prevState.comments) {\n      let newCommentCount = 0;\n      for (let i = 0; i < this.props.comments.length; i++) {\n        if (this.props.comments[i].id === this.props.id) {\n          newCommentCount += this.props.comments[i].count;\n        }\n      }\n      //   console.log(\"function running test\");\n      if (newCommentCount > 0) {\n        this.setState({\n          commentCount: newCommentCount,\n        });\n      }\n    }\n  }\n\n  updateCommentCount = previousProps => {\n    if (this.props.comments && this.props.comments !== previousProps) {\n      let newCommentCount = 0;\n      for (let i = 0; i < this.props.comments.length; i++) {\n        if (this.props.comments[i].id === this.props.id) {\n          newCommentCount += this.props.comments[i].count;\n        }\n      }\n      if (newCommentCount > 0) {\n        this.setState({\n          commentCount: newCommentCount,\n        });\n      }\n    }\n  };\n\n  render() {\n    return (\n      <div className={styles.container}>\n        {/* <img\n          className={styles.img}\n          src={\n            this.props.img !== `placeholder` ? this.props.img : placeholderImg\n          }\n          alt=\"article thumbnail\"\n        /> */}\n        <div\n          className={`${styles.img} ${stylesTwo.grid}`}\n          style={{\n            backgroundImage: `url(${\n              this.props.img !== `placeholder` ? this.props.img : placeholderImg\n            })`,\n          }}\n        >\n          {this.props.filter === `videos` && (\n            <VidDur duration={this.props.duration} />\n          )}\n        </div>\n\n        <span className={styles.date}>{this.props.date}</span>\n        <span className={styles.dash}> - </span>\n        <CommentCountIcon />\n        <span className={styles.comments}>{this.state.commentCount}</span>\n\n        <div className={styles.title}>\n          {this.props.title ? this.props.title : this.props.description}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FeedItem;\n"]},"metadata":{},"sourceType":"module"}